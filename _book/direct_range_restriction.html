<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Artifact Corrections for Effect Sizes - 9&nbsp; Direct Selection</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./indirect_range_restriction.html" rel="next">
<link href="./scale_coarseness.html" rel="prev">
<link href="./figure/favicon_book.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<meta name="twitter:title" content="Artifact Corrections for Effect Sizes - 9&nbsp; Direct Selection">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="https://matthewbjane.quarto.pub/artifact-corrections-for-effect-sizes/figure/MJB_twitter.jpg">
<meta name="twitter:creator" content="@MatthewBJane">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./small_samples.html">Artifact Corrections</a></li><li class="breadcrumb-item"><a href="./direct_range_restriction.html"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Direct Selection</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Artifact Corrections for Effect Sizes</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/MatthewBJane/artifact-corrections-for-effect-sizes/" rel="" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <a href="./Artifact-Corrections-for-Effect-Sizes.pdf" rel="" title="Download PDF" class="quarto-navigation-tool px-1" aria-label="Download PDF"><i class="bi bi-file-pdf"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Greetings</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dedication.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Dedication</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Effect Sizes and Artifacts</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Artifact Corrections</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./small_samples.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Small Samples</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./unreliability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Unreliability</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./misclassification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Group Misclassification</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./artificial_dichotomization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Artificial Dichotomization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./scale_coarseness.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Scale Coarseness</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./direct_range_restriction.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Direct Selection</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./indirect_range_restriction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Indirect Selection</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Application to Meta-Analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./metaanalysis_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Introduction to Meta-Analysis Methods</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./artifact_correction_metaanalysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Artifact Correction Meta-Analysis</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Conclusion</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./conclusion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Conclusion</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">References</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references_page.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">9.1</span> Introduction</a></li>
  <li><a href="#an-example-of-direct-range-restriction" id="toc-an-example-of-direct-range-restriction" class="nav-link" data-scroll-target="#an-example-of-direct-range-restriction"><span class="header-section-number">9.2</span> An Example of Direct Range Restriction</a></li>
  <li><a href="#a-direct-selection-function" id="toc-a-direct-selection-function" class="nav-link" data-scroll-target="#a-direct-selection-function"><span class="header-section-number">9.3</span> A Direct Selection Function</a></li>
  <li><a href="#quantifying-direct-selection-induced-restrictionenhancement-with-the-u-ratio" id="toc-quantifying-direct-selection-induced-restrictionenhancement-with-the-u-ratio" class="nav-link" data-scroll-target="#quantifying-direct-selection-induced-restrictionenhancement-with-the-u-ratio"><span class="header-section-number">9.4</span> Quantifying Direct Selection-Induced Restriction/Enhancement with the <em>u</em>-ratio</a></li>
  <li><a href="#correcting-correlations-for-direct-range-restriction" id="toc-correcting-correlations-for-direct-range-restriction" class="nav-link" data-scroll-target="#correcting-correlations-for-direct-range-restriction"><span class="header-section-number">9.5</span> Correcting Correlations for Direct Range Restriction</a>
  <ul class="collapse">
  <li><a href="#defining-our-target-quantity" id="toc-defining-our-target-quantity" class="nav-link" data-scroll-target="#defining-our-target-quantity"><span class="header-section-number">9.5.1</span> Defining our Target Quantity</a></li>
  <li><a href="#sec-corr-DDR" id="toc-sec-corr-DDR" class="nav-link" data-scroll-target="#sec-corr-DDR"><span class="header-section-number">9.5.2</span> Artifact Correction for Correlations</a></li>
  </ul></li>
  <li><a href="#correcting-standardized-mean-differences-for-direct-range-restriction" id="toc-correcting-standardized-mean-differences-for-direct-range-restriction" class="nav-link" data-scroll-target="#correcting-standardized-mean-differences-for-direct-range-restriction"><span class="header-section-number">9.6</span> Correcting Standardized Mean Differences for Direct Range Restriction</a>
  <ul class="collapse">
  <li><a href="#defining-our-target-quantity-1" id="toc-defining-our-target-quantity-1" class="nav-link" data-scroll-target="#defining-our-target-quantity-1"><span class="header-section-number">9.6.1</span> Defining our Target Quantity</a></li>
  <li><a href="#artifact-correction-for-standardized-mean-difference" id="toc-artifact-correction-for-standardized-mean-difference" class="nav-link" data-scroll-target="#artifact-correction-for-standardized-mean-difference"><span class="header-section-number">9.6.2</span> Artifact Correction for Standardized Mean Difference</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-direct_range_restriction" class="quarto-section-identifier"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Direct Selection</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="introduction" class="level2" data-number="9.1">
<h2 data-number="9.1" class="anchored" data-anchor-id="introduction"><span class="header-section-number">9.1</span> Introduction</h2>
<p>Direct selection occurs when subjects are explicitly selected based on some eligibility criterion on the variables of interest (rather than a third variable). Range restriction is a form of selection bias that describes a situation where there is less variation in our sample then there is in the population. Whereas range enhancement indicates that there is <em>more</em> variation in a sample then there is in the population. Direct range restriction/enhancement biases the variances and effect size estimates.</p>
</section>
<section id="an-example-of-direct-range-restriction" class="level2" data-number="9.2">
<h2 data-number="9.2" class="anchored" data-anchor-id="an-example-of-direct-range-restriction"><span class="header-section-number">9.2</span> An Example of Direct Range Restriction</h2>
<p>Imagine a tech company that wants to assess the correlation between years of experience and programming proficiency for their software engineers. They have two primary divisions: Division A and Division B. Division A primarily hires entry-level software engineers, with less than 3 years of experience. Division B, on the other hand, hires experienced software engineers with more than 3 years of experience. The company decides to conduct a study to assess the correlation between years of experience and programming proficiency. However, they only collect data from Division A due to logistical reasons, assuming that the relationship found there would be represent the entire company. In this scenario, direct range restriction occurs because the sample used for the study (Division A) represents a narrow range of years of experience (0-3 years) compared to the broader range present in the entire company (0+ years). Consequently, the standard deviation will be smaller in the sample then it would if we had sampled from the entire company. As we will see in later sections of this chapter, the observed correlation between years of experience and programming proficiency would be attenuated, underestimating the true correlation.</p>
</section>
<section id="a-direct-selection-function" class="level2" data-number="9.3">
<h2 data-number="9.3" class="anchored" data-anchor-id="a-direct-selection-function"><span class="header-section-number">9.3</span> A Direct Selection Function</h2>
<p>A selection function described here is a type of indicator function that represents the mechanism of which observations are selected into a given sample. In the case of <em>direct</em> selection, the selection will be a function of the of the variable of interest, <span class="math inline">\(X\)</span>. We will denote a selection function as <span class="math inline">\(\mathcal{S}(X)\)</span>. The output of the selection function will be a binary: either the individual is selected <span class="math inline">\(\mathcal{S}(X)=1\)</span> or rejected <span class="math inline">\(\mathcal{S}(X)=0\)</span> (see <a href="#fig-direct-select-diag">Figure&nbsp;<span>9.1</span></a>).</p>
<div id="fig-direct-select-diag" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figure/direct_select_diagram.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Figure&nbsp;9.1: Diagram illustrating the direct selection function. The variable, <span class="math inline">\(X\)</span>, in the population is selected based on a function of itself. Therefore the variable under selection is conditional on the selection procedure <span class="math inline">\(X|\mathcal{S}(X)\)</span>.</figcaption>
</figure>
</div>
<p>The functional form of the selection function is going to be described by some inequality of <span class="math inline">\(X\)</span>. The inequality will be dependent on the research context (e.g., the sampling procedure).</p>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
A Simple Example
</div>
</div>
<div class="callout-body-container callout-body">
<p>Let’s define the selection function as</p>
<p><span class="math display">\[\mathcal{S}(X) = \begin{cases}1 &amp; \text{if }X&gt;3 \text{ and } X&lt;8 \\ 0 &amp; \text{if }X\leq3 \text{ and } X\geq8  \end{cases}\]</span> then let’s say <span class="math inline">\(X\)</span> contains the following observations, <span class="math display">\[
X = [1,2,3,4,5,6,7,8,9,10]
\]</span></p>
<p>the selection function would then return,</p>
<p><span class="math display">\[
\mathcal{S}(X) =  [0,0,0,1,1,1,1,0,0,0]
\]</span> therefore <span class="math inline">\(X\)</span> given selection on <span class="math inline">\(X\)</span> would be,</p>
<p><span class="math display">\[
X|\mathcal{S}(X) =  [4,5,6,7]
\]</span></p>
</div>
</div>
<p>Direct selection on <span class="math inline">\(X\)</span> will have a fairly straight forward effect on the distribution of <span class="math inline">\(X\)</span>. The probability density function of <span class="math inline">\(X\)</span> (<span class="math inline">\(f(X)\)</span>) under direct selection can be formally defined as,</p>
<p><span class="math display">\[
f\left(X|\mathcal{S}(X)\right) = f(X) \mathcal{S}(X)
\]</span></p>
<p>We can visualize the distribution under direct selection in <a href="#fig-pdf">Figure&nbsp;<span>9.2</span></a>. Note that this is a simple case where selection is done on a single variable (i.e., univariate direct selection). In practice, selection is often a function of multiple variables. For instance, bivariate direct selection occurs when the selection is a function of both variables of interest, <span class="math inline">\(\mathcal{S}(X,Y)\)</span>.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-pdf" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="direct_range_restriction_files/figure-html/fig-pdf-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;9.2: Visualizing direct selection with an example probability density and selection function. Top panel shows a normally distribution of <span class="math inline">\(X\)</span> within the population. The middle panel shows the selection function. The selection function is based on the inequality, <span class="math inline">\(-1.0&lt;X&lt;1.5\)</span>. The bottom panel shows the distribution of <span class="math inline">\(X\)</span> after selecting on <span class="math inline">\(X\)</span> (i.e., <span class="math inline">\(X|\mathcal{S}(X)\)</span>).</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="quantifying-direct-selection-induced-restrictionenhancement-with-the-u-ratio" class="level2" data-number="9.4">
<h2 data-number="9.4" class="anchored" data-anchor-id="quantifying-direct-selection-induced-restrictionenhancement-with-the-u-ratio"><span class="header-section-number">9.4</span> Quantifying Direct Selection-Induced Restriction/Enhancement with the <em>u</em>-ratio</h2>
<p>The distribution of scores in the population of individuals will exhibit a greater (or lesser) degree of variability compared to the population that meets the selection criterion. Therefore the standard deviation of scores in the target population (<span class="math inline">\(\sigma_{X}\)</span>) will differ from that of the population under direct selection on <span class="math inline">\(X\)</span> (<span class="math inline">\(\sigma_{X|\mathcal{S}(X)}\)</span>). To index the difference between the two standard deviations, we can calculate the <span class="math inline">\(u\)</span>-ratio <span class="citation" data-cites="hunter1990a">Wiernik and Dahlke (<a href="references_page.html#ref-wiernik2020" role="doc-biblioref">2020</a>)</span>. The <span class="math inline">\(u\)</span>-ratio is defined as the ratio between the standard deviations of the population (<span class="math inline">\(\sigma_{X|\mathcal{S}(X)}\)</span>) under selection and the target population (<span class="math inline">\(\sigma_{X}\)</span>) such that,</p>
<p><span class="math display">\[
\upsilon_X = \frac{\sigma_{X|\mathcal{S}(X)}}{\sigma_{X}}
\]</span> Where <span class="math inline">\(\upsilon_{X}\)</span> denotes the population <span class="math inline">\(u\)</span>-ratio. The <span class="math inline">\(u\)</span>-ratio in cases of range restriction will exist in the interval (0–1). Conversely, when the <span class="math inline">\(u\)</span>-ratio is greater than 1 it is indicative of range enhancement. For a sample, the <span class="math inline">\(u\)</span>-ratio is calculated from sample standard deviations,</p>
<p><span class="math display">\[
u_X = \frac{S_{X|\mathcal{S}(X)}}{S_X}
\]</span></p>
<p>Where <span class="math inline">\(u_{X}\)</span> denotes the sample <span class="math inline">\(u\)</span>-ratio. The target population standard deviation is often quite difficult to estimate since generally we do not have access to an estimate of the population of interest. However, the unrestricted standard deviation can be estimated from some reference or norm study that is representative of the population of interest. This often comes in the form of standardization samples or norm samples (obtained from test manuals) if the population of interest is the general population. For example, the distribution full-scale IQ scores derived from the Wechsler Adult Intelligence Test has a standard deviation of 15 in the US population <span class="citation" data-cites="wechsler2008">(<a href="references_page.html#ref-wechsler2008" role="doc-biblioref">Wechsler 2008</a>)</span>. We can use this estimate as the standard deviation for the target population. Lets say we select a sample from members of Mensa, a high IQ society, where members are specifically selected on the basis high IQ scores. If the standard deviation of Mensa members is 5, then the <span class="math inline">\(u\)</span>-ratio would be,</p>
<p><span class="math display">\[
u_x = \frac{S_{X|\mathcal{S}(X)}}{S_X} = \frac{5}{15}= .33\, .
\]</span></p>
<p>If an estimate of the population standard deviation is not readily available, then a reliability coefficient from the reference sample and the sample under selection can be used to estimate the <span class="math inline">\(u\)</span>-ratio,</p>
<p><span class="math display">\[
u_X = \sqrt{\frac{1-r_{XX'}}{1-r_{XX'|\mathcal{S}(X)}}}.
\]</span></p>
<p>Where <span class="math inline">\(r_{XX'|\mathcal{S}(X)}\)</span> and <span class="math inline">\(r_{XX'}\)</span> are the reliability estimates within the selected and reference sample respectively.</p>
</section>
<section id="correcting-correlations-for-direct-range-restriction" class="level2" data-number="9.5">
<h2 data-number="9.5" class="anchored" data-anchor-id="correcting-correlations-for-direct-range-restriction"><span class="header-section-number">9.5</span> Correcting Correlations for Direct Range Restriction</h2>
<section id="defining-our-target-quantity" class="level3" data-number="9.5.1">
<h3 data-number="9.5.1" class="anchored" data-anchor-id="defining-our-target-quantity"><span class="header-section-number">9.5.1</span> Defining our Target Quantity</h3>
<p>We want to estimate the correlation in the target population between true scores of the independent (<span class="math inline">\(T\)</span>) and dependent variable (<span class="math inline">\(U\)</span>). Within a study that suffers from direct selection and measurement error, the observed score correlation will be biased relative to our target true score population correlation, <span class="math inline">\(\rho_{TU}\)</span>. We can model observed score correlations under univariate direct selection as,</p>
<p><span class="math display">\[
r_{XY|\mathcal{S}(X)} = a \rho_{TU} + e
\]</span></p>
<p>or under bivariate direct selection,</p>
<p><span class="math display">\[
r_{XY|\mathcal{S}(X,Y)} = a \rho_{TU} + e.
\]</span></p>
<p>Where <span class="math inline">\(a\)</span> is the artifact attenuation/inflation factor and <span class="math inline">\(e\)</span> is the sampling error term. In either case, an unbiased estimate of the total population true score correlation can be estimated by dividing by an estimate of <span class="math inline">\(a\)</span>,</p>
<p><span class="math display">\[
r_{XY|\mathcal{S}(X)} = a \rho_{TU} + e
\]</span></p>
<p>or</p>
<p><span class="math display">\[
r_{XY|\mathcal{S}(X,Y)} = a \rho_{TU} + e.
\]</span></p>
</section>
<section id="sec-corr-DDR" class="level3" data-number="9.5.2">
<h3 data-number="9.5.2" class="anchored" data-anchor-id="sec-corr-DDR"><span class="header-section-number">9.5.2</span> Artifact Correction for Correlations</h3>
<section id="the-univariate-case" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="the-univariate-case">The Univariate Case</h4>
<p>Range restriction (or enhancement) in either the independent or dependent variable will induce bias into the correlation coefficient. Let us consider a case where a study directly selects on <span class="math inline">\(X\)</span> and not <span class="math inline">\(Y\)</span>. It is important to note, that if there is direct selection one of the two variables, then there will be indirect selection in the other variable too if the two are correlated. This would suggest that if <span class="math inline">\(u_X\neq 1\)</span> and <span class="math inline">\(\rho_{XY}\neq 0\)</span> then <span class="math inline">\(u_Y\neq 1\)</span>. Lets visualize the correlation between independent (<span class="math inline">\(X\)</span>) and dependent (<span class="math inline">\(Y\)</span>) variables under univariate direct range restriction (see <a href="#fig-uvdrr">Figure&nbsp;<span>9.3</span></a>) by only selecting individuals above some cut off such that,</p>
<p><span class="math display">\[
\mathcal{S}(X) = \begin{cases}1 &amp; \text{if }X\geq-.50\\ 0 &amp; \text{if }X&lt;-.50  \end{cases}
\]</span></p>
<p>The scores of individuals that have been selected will show less variance than the population pool. Specifically, the scenario below shows a <span class="math inline">\(u\)</span>-ratio of <span class="math inline">\(u_X=0.69\)</span> in the independent variable. We see in <a href="#fig-uvdrr">Figure&nbsp;<span>9.3</span></a> that the correlation in the restricted scores (<span class="math inline">\(r_{XY|\mathcal{S}(X)}\)</span>) are attenuated relative to the unrestricted correlation (<span class="math inline">\(r_{XY}\)</span>, indicative of <span class="math inline">\(a&lt;1\)</span>).</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-uvdrr" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="direct_range_restriction_files/figure-html/fig-uvdrr-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;9.3: Scatterplot showing a correlation between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> under univariate direct range restriction. Dark blue dots indicate the selected sample and the transparent dots indicate the rejected sample.</figcaption>
</figure>
</div>
</div>
</div>
<p>We can also visualize what happens to the correlation when the range is enhanced. Enhancement can be accomplished by selecting individuals at the ends of the distribution <span class="citation" data-cites="taylor1976">(<a href="references_page.html#ref-taylor1976" role="doc-biblioref">Taylor and Griess 1976</a>)</span>. Therefore we can define the selection function for <a href="#fig-uvdre">Figure&nbsp;<span>9.4</span></a> as,</p>
<p><span class="math display">\[
\mathcal{S}(X) = \begin{cases}1 &amp; \text{if }X\leq-.50 \text{ or } X\geq.50\\0 &amp; \text{if }X&gt;-.50 \text{ or } X&lt;.50\end{cases}
\]</span></p>
<p>In the visualization below, we see an opposite effect on the correlation, that is, an inflation of the unrestricted correlation rather than an attenuation (indicating <span class="math inline">\(a&gt;1\)</span>) like we see under range restriction. The scenario below has a <span class="math inline">\(u\)</span>-ratio <span class="math inline">\(u_X=1.26\)</span> in the independent variable.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-uvdre" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="direct_range_restriction_files/figure-html/fig-uvdre-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;9.4: Scatterplot showing a correlation between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> under univariate direct range enhancement. Dark blue dots indicate the selected sample and the transparent dots indicate the rejected sample.</figcaption>
</figure>
</div>
</div>
</div>
<p>It starts to become apparent that if <span class="math inline">\(u_X&gt;1\)</span> (i.e., <span class="math inline">\(S_X&gt;S_{X|\mathcal{S}(X)}\)</span>) the observed correlation is inflated and when <span class="math inline">\(u_X&lt;1\)</span> it becomes attenuated <span class="citation" data-cites="sackett2000">(<a href="references_page.html#ref-sackett2000" role="doc-biblioref">Sackett and Yang 2000</a>)</span>.</p>
<p>The attenuation/inflation of the correlation is dependent on the magnitude of the correlation, this is due to the fact that selection occurs on <span class="math inline">\(X\)</span> <em>and</em> <span class="math inline">\(X\)</span> is correlated with <span class="math inline">\(Y\)</span>, there will also be indirect range restriction in <span class="math inline">\(Y\)</span>. Therefore unlike other artifacts that have been discussed so far, range restriction/enhancement depends not only on the artifact value (i.e., the <span class="math inline">\(u\)</span>-ratio), but also on the restricted correlation <span class="citation" data-cites="hunter2006">(<a href="references_page.html#ref-hunter2006" role="doc-biblioref">Hunter, Schmidt, and Le 2006</a>)</span>. The attenuation/inflation factor can be estimated as <span class="citation" data-cites="hunter2006">(adapted from equation 4, <a href="references_page.html#ref-hunter2006" role="doc-biblioref">Hunter, Schmidt, and Le 2006</a>)</span>,</p>
<p><span class="math display">\[
\hat{a} = u_X \sqrt{1+r_{XY|\mathcal{S}(X)}^2\left(\frac{1}{u_X}-1\right)}
\]</span></p>
<p>A bias correction formula for univariate direct selection was first developed by <span class="citation" data-cites="pearson1903">Pearson (<a href="references_page.html#ref-pearson1903" role="doc-biblioref">1903</a>)</span> and also provided more recently by <span class="citation" data-cites="hunter2006">Hunter, Schmidt, and Le (<a href="references_page.html#ref-hunter2006" role="doc-biblioref">2006</a>)</span> and <span class="citation" data-cites="wiernik2020">Wiernik and Dahlke (<a href="references_page.html#ref-wiernik2020" role="doc-biblioref">2020</a>)</span>. To correct for the systematic bias in correlations, we can divide the correlation under selection by the attenuation factor,</p>
<p><span id="eq-univariate"><span class="math display">\[
r_{XY} = \frac{r_{XY|\mathcal{S}(X)}}{\hat{a}} = \frac{r_{XY|\mathcal{S}(X)}}{u_X\sqrt{1+r_{XY|\mathcal{S}(X)}^2\left(\frac{1}{u^2_X}-1\right)}}.
\tag{9.1}\]</span></span></p>
<p>Where the standard error of the corrected correlation is,</p>
<p><span id="eq-univariate-se"><span class="math display">\[
se(r_{XY}) = \frac{se\left(r_{XY|\mathcal{S}(X)}\right)}{\hat{a}}.
\tag{9.2}\]</span></span></p>
<p>If we want to also correct for measurement error in both samples, then we can also incorporate the reliability into these equations. Note that the following equations will incorporate the reliability within the selected sample (<span class="math inline">\(r_{XX'|\mathcal{S}(X)}\)</span>) rather than the reference sample (<span class="math inline">\(r_{XX'}\)</span>). If the reliability coefficient comes from the reference sample, then we can estimate the selected (restricted or enhanced) sample reliability with the corresponding <span class="math inline">\(u\)</span>-ratio,</p>
<p><span id="eq-samp-reliability"><span class="math display">\[
r_{XX'|\mathcal{S}(X)} = 1-\frac{1-r_{XX'}}{u^2_X}.
\tag{9.3}\]</span></span></p>
<p>Then we can use the reliability and <span class="math inline">\(u\)</span>-ratios simultaneously to calculate a new attenuation/inflation factor that accounts for both bias in measurement error and direct selection,</p>
<p><span class="math display">\[
\hat{a} = u_X\sqrt{1-u_X^2(1-r_{XX'|\mathcal{S}(X)})}\sqrt{r_{YY'|\mathcal{S}(X)}+r_{XY|\mathcal{S}(X)}^2\left(\frac{1}{u^2_X}-1\right)}.
\]</span></p>
<p>In the following equation to obtain an unbiased estimate of the true score unrestricted population correlation <span class="citation" data-cites="wiernik2020">(adapted from table 3, <a href="references_page.html#ref-wiernik2020" role="doc-biblioref">Wiernik and Dahlke 2020</a>)</span>,</p>
<p><span class="math display">\[
\small{r_{TU}=\frac{r_{XY|\mathcal{S}(X)}}{\hat{a}} =\frac{r_{XY|\mathcal{S}(X)}}{u_X\sqrt{1-u_X^2(1-r_{XX'|\mathcal{S}(X)})}\sqrt{r_{YY'|\mathcal{S}(X)}+r_{XY|\mathcal{S}(X)}^2\left(\frac{1}{u^2_X}-1\right)}}}
\]</span></p>
<p>Where the standard error can be corrected similarly,</p>
<p><span class="math display">\[
se(r_{TU}) = \frac{se(r_{XY|\mathcal{S}(X)})}{\hat{a}}
\]</span></p>
<p>There are three important things to note about the equations in this section: 1) these corrections assume linearity and homoskedasticity in the target population population, 2) all these corrections show selection on the independent variable, <span class="math inline">\(X\)</span>, however it does not matter whether univariate selection is on <span class="math inline">\(X\)</span> or <span class="math inline">\(Y\)</span>, the corrections can be applied in the same fashion (just remember to flip <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> and vice versa in the equations), 3) The corrections assume that any range restriction/enhancement observed in the non-selection variable (in our example this would be <span class="math inline">\(Y\)</span>) is mediated by the range restriction/enhancement in the variable under selection (i.e., <span class="math inline">\(X\)</span>).</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Applied Example in R
</div>
</div>
<div class="callout-body-container callout-body">
<p>To continue with our example of Mensa members (a high IQ society), let’s say a researcher wants to know the correlation between IQ and test anxiety. The researcher conduct’s a study on a sample of 100 Mensa members and finds a sample mean IQ of <span class="math inline">\(135\)</span> and a standard deviation of <span class="math inline">\(S_{X|\mathcal{S}(X)}=5\)</span>. Since the mean IQ in the general population is 15, the <span class="math inline">\(u\)</span>-ratio is computed as <span class="math inline">\(u_X=.333\)</span>. The researcher then finds a correlation of <span class="math inline">\(r_{XY|\mathcal{S}(X)}=-.15\)</span> between IQ test scores and test anxiety. The reliability of the IQ test and the anxiety measure is <span class="math inline">\(r_{XX'|\mathcal{S}(X)}=.85\)</span> and <span class="math inline">\(r_{YY'|\mathcal{S}(X)}=.80\)</span>, respectively.</p>
<p>In R, we can correct the correlation by using the <code>correct_r</code> function in the <code>psychmeta</code> package <span class="citation" data-cites="dahlke2019">(<a href="references_page.html#ref-dahlke2019" role="doc-biblioref">Dahlke and Wiernik 2019</a>)</span>. The <code>correction = 'uvdrr_x'</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(psychmeta)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">correct_r</span>(<span class="at">correction =</span> <span class="st">'uvdrr_x'</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">rxyi =</span> <span class="sc">-</span>.<span class="dv">15</span>,  <span class="co"># restricted correlation</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">ux =</span> .<span class="dv">333</span>,   <span class="co"># u ratio of IQ scores</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">rxx =</span> .<span class="dv">85</span>,   <span class="co"># reliability of IQ scores</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">ryy =</span> .<span class="dv">80</span>,   <span class="co"># reliability of test anxiety measure</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">n =</span> <span class="dv">100</span>)    <span class="co"># sample size</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Correlations Corrected for Measurement Error and Univariate Direct Range Restriction:
---------------------------------------------------------------------------------------
   value CI_LL_95 CI_UL_95   n n_effective
1 -0.459    -0.78     0.16 100        10.6</code></pre>
</div>
</div>
<p>The true score correlation in the target population is estimated to be <span class="math inline">\(r_{TU} = .46\, [-.16,\, .78]\)</span>.</p>
</div>
</div>
</section>
<section id="the-bivariate-case" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="the-bivariate-case">The Bivariate Case</h4>
<p>Bivariate direct range restriction/enhancement occurs when selection occurs on both variables of interest, therefore the selection function will be a function of <span class="math inline">\(X\)</span> <em>and</em> <span class="math inline">\(Y\)</span>. Let’s visualize the correlation between independent (<span class="math inline">\(X\)</span>) and dependent (<span class="math inline">\(Y\)</span>) variables under bivariate range restriction by only selecting individuals above some cut off point for both <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> (see <a href="#fig-bvdrr">Figure&nbsp;<span>9.5</span></a>). For this example the selection function is</p>
<p><span class="math display">\[
\mathcal{S}(X,Y) = \begin{cases}1 &amp; \text{if } X\geq -.5 \text{ and }Y\geq-.5\\ 0 &amp; \text{if }X&lt;-.5  \text{ and }Y&lt;-.5 \end{cases}
\]</span></p>
<p>The scores of individuals that have been selected will show less variance than the entire pool of individuals. Specifically, the scenario below shows a <span class="math inline">\(u\)</span>-ratio of about 0.70 in the independent variable and dependent variables. We see in the figure that the correlation in the restricted sample (<span class="math inline">\(r_{XY|\mathcal{S}(X,Y)}\)</span>) is attenuated relative to the unrestricted correlation (<span class="math inline">\(r_{XY}\)</span>).</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-bvdrr" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="direct_range_restriction_files/figure-html/fig-bvdrr-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;9.5: Scatterplot showing a correlation between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> under bivariate direct range restriction. Dark blue dots indicate the selected sample and the transparent dots indicate the rejected sample.</figcaption>
</figure>
</div>
</div>
</div>
<p>Likewise let’s visualize what happens to the correlation when the range is enhanced. Enhancement in both variables can be accomplished by selecting individuals at the ends of the distribution of <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>. Therefore we can define the selection function as,</p>
<p><span class="math display">\[
\small{\mathcal{S}(X,Y) = \begin{cases}1 &amp; \text{if } (X\leq -.5 \text{ or } X\geq .5) \text{ and } (Y\leq -.5 \text{ or } Y\geq .5) \\ 0 &amp; \text{if }(X&gt;-.5 \text{ or }X&lt;.5)  \text{ and }(Y&gt;-.5 \text{ or }Y&lt;.5) \end{cases}}
\]</span></p>
<p>Note that this type of selection would be exceedingly rare to see in practice. In <a href="#fig-bvdre">Figure&nbsp;<span>9.6</span></a>, we see inflation of the enhanced correlation relative to the target correlation. The scenario below has a <span class="math inline">\(u\)</span>-ratio of about 1.32 in both the independent variable and dependent variable.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-bvdre" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="direct_range_restriction_files/figure-html/fig-bvdre-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;9.6: Scatterplot showing a correlation between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> under bivariate direct range enhancement. Dark blue dots indicate the selected sample and the transparent dots indicate the rejected sample.</figcaption>
</figure>
</div>
</div>
</div>
<p>A bias correction formula for bivariate range restriction is much more complicated than the univariate formulation. To break down the correction formula into simpler parts, let us first define a factor we will denote with the Greek letter <span class="math inline">\(\psi\)</span>,</p>
<p><span id="eq-biv-1"><span class="math display">\[
\psi = \frac{u_X u_Y\left(r_{XY|\mathcal{S}(X,Y)}^2-1\right)}{2r_{XY|\mathcal{S}(X,Y)}}
\tag{9.4}\]</span></span></p>
<p>This factor contains all the parameters needed to correct the correlation coefficient under direct selection. An unbiased estimate of the target population correlation can obtained by the following correction formula <span class="citation" data-cites="wiernik2020">(adapted from table 3 <a href="references_page.html#ref-wiernik2020" role="doc-biblioref">Wiernik and Dahlke 2020</a>)</span>,</p>
<p><span id="eq-biv-2"><span class="math display">\[
r_{XY} = \psi + \text{sign}\left[r_{XY|\mathcal{S}(X,Y)}\right]\sqrt{\psi^2+1}
\tag{9.5}\]</span></span></p>
<p>Where the standard error can be computed from calculating the artifact factor (<span class="math inline">\(a\)</span>) from the corrected and restricted/enhanced correlation,</p>
<p><span id="eq-biv-se"><span class="math display">\[
se(r_{XY}) = \frac{se\left(r_{XY|\mathcal{S}(X,Y)}\right)}{\hat{a}}= \frac{se\left(r_{XY|\mathcal{S}(X,Y)}\right)}{\left[\frac{r_{XY|\mathcal{S}(X,Y)}}{r_{XY}}\right]}.
\tag{9.6}\]</span></span></p>
<p>Now we can also incorporate measurement error into the correction formula. Note that the following equations will incorporate the reliability within the selected sample (<span class="math inline">\(r_{XX'|\mathcal{S}(X,Y)}\)</span>) rather than the unrestricted population (<span class="math inline">\(r_{XX'}\)</span>; see <a href="#eq-samp-reliability">Equation&nbsp;<span>9.3</span></a> on converting to the selected sample). Then we can use the restricted/enhanced (selected) sample reliability and the <span class="math inline">\(u\)</span>-ratios in the following equation to obtain an unbiased estimate of the target true score population correlation,</p>
<p><span class="math display">\[
r_{TU} = \frac{\psi + \text{sign}\left[r_{XY|\mathcal{S}(X,Y)}\right]\sqrt{\psi^2+1}}{\sqrt{1-u_X^2\left(1-r_{XX'|\mathcal{S}(X,Y)}\right)}\sqrt{1-u_Y^2\left(1-r_{YY'|\mathcal{S}(X,Y)}\right)}}.
\]</span></p>
<p>If the reliability coefficient comes from the unrestricted population, the formula simplifies to,</p>
<p><span class="math display">\[
r_{TU} = \frac{\psi + \text{sign}\left[r_{XY|\mathcal{S}(X,Y)}\right]\sqrt{\psi^2+1}}{\sqrt{r_{XX'}}\sqrt{r_{YY'}}}.
\]</span></p>
<p>We can use the same equation as <a href="#eq-biv-se">Equation&nbsp;<span>9.6</span></a> to calculate the corrected standard error. The standard error can then be calculated as,</p>
<p><span class="math display">\[
se(r_{TU}) = \frac{se\left(r_{XY|\mathcal{S}(X,Y)}\right)}{\hat{a}}= \frac{se\left(r_{XY|\mathcal{S}(X,Y)}\right)}{\left[\frac{r_{XY|\mathcal{S}(X,Y)}}{r_{TU}}\right]}.
\]</span></p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Applied Example in R
</div>
</div>
<div class="callout-body-container callout-body">
<p>Let’s say we are the admissions department at an top-tier university. This university only admits students that have a high school GPA over 3.5 <em>and</em> a standardized test score over 650. We decide to conduct a study on the predictive validity (i.e., the correlation) between standardized test performance and college grade-point average (GPA). However, the admitted students have a very narrow range of both GPA and test scores wheras the total pool of college applicants have a much wider range. We calculate <span class="math inline">\(u\)</span>-ratios of test scores (<span class="math inline">\(u_{X}=0.70\)</span>) and GPA (<span class="math inline">\(u_Y = .80\)</span>).</p>
<p>In R, we can correct the correlation by using the <code>correct_r</code> function in the <code>psychmeta</code> package <span class="citation" data-cites="dahlke2019">(<a href="references_page.html#ref-dahlke2019" role="doc-biblioref">Dahlke and Wiernik 2019</a>)</span>. The <code>correction = 'bvdrr'</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(psychmeta)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">correct_r</span>(<span class="at">correction =</span> <span class="st">'bvdrr'</span>,</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">rxyi =</span> .<span class="dv">25</span>,  <span class="co"># restricted correlation</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">ux =</span> .<span class="dv">70</span>,   <span class="co"># u ratio of IQ scores</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">uy =</span> .<span class="dv">80</span>,   <span class="co"># u ratio of GPA</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">n =</span> <span class="dv">100</span>)    <span class="co"># sample size</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Correlations Corrected for Measurement Error and Bivariate Direct Range Restriction:
---------------------------------------------------------------------------------------
  value CI_LL_95 CI_UL_95   n n_effective
1   0.4   0.0999    0.597 100          32</code></pre>
</div>
</div>
<p>The correlation in the target population is estimated to be <span class="math inline">\(r_{XY} = .40\, [.10,\, .60]\)</span>.</p>
</div>
</div>
</section>
</section>
</section>
<section id="correcting-standardized-mean-differences-for-direct-range-restriction" class="level2" data-number="9.6">
<h2 data-number="9.6" class="anchored" data-anchor-id="correcting-standardized-mean-differences-for-direct-range-restriction"><span class="header-section-number">9.6</span> Correcting Standardized Mean Differences for Direct Range Restriction</h2>
<section id="defining-our-target-quantity-1" class="level3" data-number="9.6.1">
<h3 data-number="9.6.1" class="anchored" data-anchor-id="defining-our-target-quantity-1"><span class="header-section-number">9.6.1</span> Defining our Target Quantity</h3>
<p>The quantity of interest is the target population standardized mean difference between actual members of groups <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> on true scores, <span class="math inline">\(U\)</span>. We can denote this standardized mean difference as <span class="math inline">\(\delta_{GU}\)</span>. Within a study that suffers from direct selection, the observed standardized mean difference (<span class="math inline">\(d_{gY|\mathcal{S}(Y)}\)</span>) will be biased relative to the target, <span class="math inline">\(\delta_{GU}\)</span>. We can model the observed standardized mean difference as,</p>
<p><span class="math display">\[
d_{gY|\mathcal{S}(Y)}= a \delta_{GU} + e.
\]</span></p>
<p>Where <span class="math inline">\(a\)</span> is the attenuation/inflation factor and <span class="math inline">\(e\)</span> is the sampling error term. Therefore an unbiased estimate of the target population true score standardized mean difference would be computed from</p>
<p><span class="math display">\[
d_{GU} = \frac{ d_{gY|\mathcal{S}(Y)} }{ \hat{a}}.
\]</span></p>
</section>
<section id="artifact-correction-for-standardized-mean-difference" class="level3" data-number="9.6.2">
<h3 data-number="9.6.2" class="anchored" data-anchor-id="artifact-correction-for-standardized-mean-difference"><span class="header-section-number">9.6.2</span> Artifact Correction for Standardized Mean Difference</h3>
<section id="selection-on-the-continuous-variable" class="level4" data-number="9.6.2.1">
<h4 data-number="9.6.2.1" class="anchored" data-anchor-id="selection-on-the-continuous-variable"><span class="header-section-number">9.6.2.1</span> Selection on the Continuous Variable</h4>
<p>To correct for direct selection on the continuous variable, we can first convert the observed standardized mean difference (<span class="math inline">\(d_{gY|\mathcal{S}(X)}\)</span>) to a point-biserial correlation (<span class="math inline">\(r_{gY|\mathcal{S}(X)}\)</span>). Converting <span class="math inline">\(d_{gY|\mathcal{S}(X)}\)</span> to <span class="math inline">\(r_{gY|\mathcal{S}(X)}\)</span> can be done by using the observed proportion of individuals in group <span class="math inline">\(A\)</span> (or <span class="math inline">\(B\)</span>), <span class="math inline">\(p_g\)</span>,</p>
<p><span class="math display">\[
r_{gY|\mathcal{S}(X)} = \frac{d_{gY|\mathcal{S}(X)}}{\sqrt{\frac{1}{p_g(1-p_g)}-d_{gY|\mathcal{S}(X)}^2}}.
\]</span></p>
<p>We can then correct the point-biserial correlation for univariate direct selection using the formulas in <a href="#sec-corr-DDR"><span>Section&nbsp;9.5.2</span></a>. Note that if you want to correct for measurement error as well, replace <span class="math inline">\(r_{XX'}\)</span> with <span class="math inline">\(r_{gg'}\)</span> (i.e., group classification reliability; see chapter on <em>group misclassification</em>) whenever you are working with standardized mean differences. Once we obtained the corrected correlation, <span class="math inline">\(r_{GU}\)</span>, we can convert back to a standardized mean difference, we need to use an adjusted group proportions, <span class="math inline">\(p_g^*\)</span>:</p>
<p><span class="math display">\[
d_{GU} = \frac{r_{GU}}{\sqrt{p_g^*\left(1-p_g^*\right)\left(1-r_{GU}^2\right)}}.
\]</span></p>
<p>Where <span class="math inline">\(p_g^*\)</span> is</p>
<p><span class="math display">\[
p_g^* = \frac{1}{2}-\frac{1}{2}\sqrt{1-4p_g(1-p_g)\left[1+r_{gY|\mathcal{S}(Y)}^2\left(\frac{1}{u^2_X}-1\right)\right]}
\]</span></p>
<p>The adjusted proportion, <span class="math inline">\(p_g^*\)</span>, can also be estimated from the proportion of individuals in the target population (e.g., the proportion of men vs women in the general population). This adjustment is necessary in order to account for indirect selection in the grouping variable when <span class="math inline">\(d\neq 0\)</span>. This is similar to the situation described in <a href="#sec-corr-DDR"><span>Section&nbsp;9.5.2</span></a>, where one variable suffers from direct range restriction and any variable that is correlated with it, will suffer from indirect selection. The corresponding corrected sampling error can also be computed with the observed and adjusted proportions such that,</p>
<p><span class="math display">\[
\small{se(d_{GU}) = \frac {se\left(d_{gY|\mathcal{S}(Y)}\right)\left(\frac{r_{GU}}{r_{gY|\mathcal{S}(Y)}}\right)^2} {\left(1+d_{gY|\mathcal{S}(Y)}^2p_g[1-p_g]\right)^2\left(d_o^2+\frac{1}{p_g(1-p_g)}\right)p^*(1-p_g^*)(1-r_{GU}^2)^3}.}
\]</span></p>
<script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="matthewbjane" data-description="Support me on Buy me a coffee!" data-message="Thank you for being here." data-color="#eeb4d7ff" data-position="Right" data-x_margin="18" data-y_margin="18"></script>


<div id="refs" class="references csl-bib-body hanging-indent" role="list" style="display: none">
<div id="ref-dahlke2019" class="csl-entry" role="listitem">
Dahlke, Jeffrey A., and Brenton M. Wiernik. 2019. <span>“Psychmeta: An R Package for Psychometric Meta-Analysis.”</span> <em>Applied Psychological Measurement</em> 43 (5): 415–16. <a href="https://doi.org/10.1177/0146621618795933">https://doi.org/10.1177/0146621618795933</a>.
</div>
<div id="ref-hunter1990a" class="csl-entry" role="listitem">
Hunter, John E., and Frank L. Schmidt. 2015. <em>Methods of meta-analysis: correcting error and bias in research findings (third)</em>. Third. Thousand Oaks, California: Sage Publications.
</div>
<div id="ref-hunter2006" class="csl-entry" role="listitem">
Hunter, John E., Frank L. Schmidt, and Huy Le. 2006. <span>“Implications of Direct and Indirect Range Restriction for Meta-Analysis Methods and Findings.”</span> <em>Journal of Applied Psychology</em> 91 (3): 594–612. <a href="https://doi.org/10.1037/0021-9010.91.3.594">https://doi.org/10.1037/0021-9010.91.3.594</a>.
</div>
<div id="ref-pearson1903" class="csl-entry" role="listitem">
Pearson, Karl. 1903. <span>“I. Mathematical Contributions to the Theory of Evolution. <span></span>XI. On the Influence of Natural Selection on the Variability and Correlation of Organs.”</span> <em>Philosophical Transactions of the Royal Society of London. Series A, Containing Papers of a Mathematical or Physical Character</em> 200 (321-330): 1–66. <a href="https://doi.org/10.1098/rsta.1903.0001">https://doi.org/10.1098/rsta.1903.0001</a>.
</div>
<div id="ref-sackett2000" class="csl-entry" role="listitem">
Sackett, Paul R., and Hyuckseung Yang. 2000. <span>“Correction for Range Restriction: An Expanded Typology.”</span> <em>Journal of Applied Psychology</em> 85 (1): 112–18. <a href="https://doi.org/10.1037/0021-9010.85.1.112">https://doi.org/10.1037/0021-9010.85.1.112</a>.
</div>
<div id="ref-taylor1976" class="csl-entry" role="listitem">
Taylor, Erwin K., and Thomas Griess. 1976. <span>“The Missing Middle in Validation Research.”</span> <em>Personnel Psychology</em> 29 (1): 5–11. <a href="https://doi.org/10.1111/j.1744-6570.1976.tb00397.x">https://doi.org/10.1111/j.1744-6570.1976.tb00397.x</a>.
</div>
<div id="ref-wechsler2008" class="csl-entry" role="listitem">
Wechsler, David. 2008. <em>Wechsler Adult Intelligence Scale–Fourth Edition</em>. 4th ed. <a href="https://doi.org/10.1037/t15169-000">https://doi.org/10.1037/t15169-000</a>.
</div>
<div id="ref-wiernik2020" class="csl-entry" role="listitem">
Wiernik, Brenton M., and Jeffrey A. Dahlke. 2020. <span>“Obtaining Unbiased Results in Meta-Analysis: The Importance of Correcting for Statistical Artifacts.”</span> <em>Advances in Methods and Practices in Psychological Science</em> 3 (1): 94–123. <a href="https://doi.org/10.1177/2515245919885611">https://doi.org/10.1177/2515245919885611</a>.
</div>
</div>
</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./scale_coarseness.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Scale Coarseness</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./indirect_range_restriction.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Indirect Selection</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>