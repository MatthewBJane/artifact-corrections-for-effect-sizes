<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Artifact Corrections for Effect Sizes - 10&nbsp; Indirect Selection</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./metaanalysis_intro.html" rel="next">
<link href="./direct_range_restriction.html" rel="prev">
<link href="./figure/favicon_book.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<meta name="twitter:title" content="Artifact Corrections for Effect Sizes - 10&nbsp; Indirect Selection">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="https://matthewbjane.quarto.pub/artifact-corrections-for-effect-sizes/figure/MJB_twitter.jpg">
<meta name="twitter:creator" content="@MatthewBJane">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./small_samples.html">Artifact Corrections</a></li><li class="breadcrumb-item"><a href="./indirect_range_restriction.html"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Indirect Selection</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Artifact Corrections for Effect Sizes</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/MatthewBJane/artifact-corrections-for-effect-sizes/" rel="" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <a href="./Artifact-Corrections-for-Effect-Sizes.pdf" rel="" title="Download PDF" class="quarto-navigation-tool px-1" aria-label="Download PDF"><i class="bi bi-file-pdf"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Greetings</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dedication.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Dedication</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Effect Sizes and Artifacts</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Artifact Corrections</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./small_samples.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Small Samples</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./unreliability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Unreliability</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./misclassification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Group Misclassification</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./artificial_dichotomization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Artificial Dichotomization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./scale_coarseness.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Scale Coarseness</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./direct_range_restriction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Direct Selection</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./indirect_range_restriction.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Indirect Selection</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Application to Meta-Analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./metaanalysis_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Introduction to Meta-Analysis Methods</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./artifact_correction_metaanalysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Artifact Correction Meta-Analysis</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Conclusion</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./conclusion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Conclusion</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">References</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references_page.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">10.1</span> Introduction</a></li>
  <li><a href="#an-example-of-indirect-range-restriction" id="toc-an-example-of-indirect-range-restriction" class="nav-link" data-scroll-target="#an-example-of-indirect-range-restriction"><span class="header-section-number">10.2</span> An Example of Indirect Range Restriction</a></li>
  <li><a href="#selection-functions" id="toc-selection-functions" class="nav-link" data-scroll-target="#selection-functions"><span class="header-section-number">10.3</span> Selection Functions</a></li>
  <li><a href="#quantifying-selection-induced-restrictionenhancement" id="toc-quantifying-selection-induced-restrictionenhancement" class="nav-link" data-scroll-target="#quantifying-selection-induced-restrictionenhancement"><span class="header-section-number">10.4</span> Quantifying Selection-Induced Restriction/enhancement</a></li>
  <li><a href="#correcting-correlations-for-indirect-range-restriction" id="toc-correcting-correlations-for-indirect-range-restriction" class="nav-link" data-scroll-target="#correcting-correlations-for-indirect-range-restriction"><span class="header-section-number">10.5</span> Correcting Correlations for Indirect Range Restriction</a>
  <ul class="collapse">
  <li><a href="#defining-our-target-quantity" id="toc-defining-our-target-quantity" class="nav-link" data-scroll-target="#defining-our-target-quantity"><span class="header-section-number">10.5.1</span> Defining our Target Quantity</a></li>
  <li><a href="#artifact-correction-for-correlations" id="toc-artifact-correction-for-correlations" class="nav-link" data-scroll-target="#artifact-correction-for-correlations"><span class="header-section-number">10.5.2</span> Artifact Correction for Correlations</a></li>
  </ul></li>
  <li><a href="#beware-of-assumptions" id="toc-beware-of-assumptions" class="nav-link" data-scroll-target="#beware-of-assumptions">Beware of assumptions</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Indirect Selection</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="introduction" class="level2" data-number="10.1">
<h2 data-number="10.1" class="anchored" data-anchor-id="introduction"><span class="header-section-number">10.1</span> Introduction</h2>
<p>Indirect selection occurs when the selection process is not directly on the variable of interest, but rather on another related variable. Similar to direct range restriction, this will cause restriction (or enhancement) in the variable of interest.</p>
</section>
<section id="an-example-of-indirect-range-restriction" class="level2" data-number="10.2">
<h2 data-number="10.2" class="anchored" data-anchor-id="an-example-of-indirect-range-restriction"><span class="header-section-number">10.2</span> An Example of Indirect Range Restriction</h2>
<p>Imagine a research team is conducting a study on academic motivation among college students using a survey that includes various questions related to academic engagement, goal orientation, and effort investment. The researchers administer the survey to a large sample of students across different universities. However, during the data cleaning process, the researchers identify a subset of respondents who exhibited signs of inattentiveness and carelessness in their responses. These signs include straight-lining questions (e.g., consistently selecting the same response option without reading the questions) or responding randomly without considering the content of the questions. Recognizing that inattentive or careless responding can distort the measurement of academic motivation, the researchers decide to exclude these individuals from the analysis. The rationale is to ensure that the data collected represents genuine responses and validly measures academic motivation. The unintended consequence of this decision is indirect range restriction. By removing inattentive and careless responders, who likely also have lower academic motivation and engagement, from the dataset, the observed range of academic motivation scores is reduced. The excluded individuals, who may have had lower academic motivation scores, are not accounted for in the analysis, resulting in an underestimation of the variability of academic motivation relative to the population.</p>
</section>
<section id="selection-functions" class="level2" data-number="10.3">
<h2 data-number="10.3" class="anchored" data-anchor-id="selection-functions"><span class="header-section-number">10.3</span> Selection Functions</h2>
<p>In the previous chapter we introduced the concept of a selection function for direct range restriction. Here we will expand on that section for the case of indirect range restriction, where we must introduce a new variable, <span class="math inline">\(Z\)</span>. Indirect selection by definition means that the variable of interest is not used in the selection process, rather, the selection directly on another variable such that, <span class="math inline">\(\mathcal{S}(Z)\)</span> (<a href="#fig-indirect-select-diag">Figure&nbsp;<span>10.1</span></a> illustrates the selection process).</p>
<div id="fig-indirect-select-diag" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figure/indirect_select_diagram.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Figure&nbsp;10.1: Diagram illustrating the selection process. The variable, <span class="math inline">\(X\)</span>, is selected based on a function of itself. Therefore the variable under selection is conditional on the selection procedure <span class="math inline">\(X|\mathcal{S}(X)\)</span>.</figcaption>
</figure>
</div>
<p>However, selecting on <span class="math inline">\(Z\)</span> may affect the distribution of <span class="math inline">\(X\)</span> depending on the relationship between <span class="math inline">\(X\)</span> and <span class="math inline">\(Z\)</span>. Particularly, if we assume normally distributed variables the correlation between <span class="math inline">\(X\)</span> and <span class="math inline">\(Z\)</span> can entirely describe the affect that <span class="math inline">\(\mathcal{S}(Z)\)</span> has on the distribution of <span class="math inline">\(X\)</span>. If <span class="math inline">\(X\)</span> and <span class="math inline">\(Z\)</span> are independent (<span class="math inline">\(\rho_{XZ}=0\)</span>), then selection on <span class="math inline">\(Z\)</span> would not affect the distribution of <span class="math inline">\(X\)</span> such that,</p>
<p><span class="math display">\[
f(X|\mathcal{S}(Z)) = f(X),\;\;\;\; \rho_{XZ}= 0
\]</span></p>
<p>For example, consider that we select individual’s in the top half of <span class="math inline">\(Z\)</span> (i.e., above the mean, <span class="math inline">\(\mu_{Z}\)</span>), such that our selection function can be defined as,</p>
<p><span class="math display">\[\mathcal{S}(Z) = \begin{cases}1 &amp; \text{if }Z\geq\mu_{Z}\\ 0 &amp; \text{if }Z&lt;\mu_{Z} \end{cases}\]</span> If the correlation, <span class="math inline">\(\rho_{XZ}\)</span> is positive, then the distribution of <span class="math inline">\(X|\mathcal{S}(Z)\)</span> (i.e., <span class="math inline">\(X\)</span> given selection on <span class="math inline">\(Z\)</span>) will have a higher mean and less variability (see <a href="#fig-indirect-select-diag">Figure&nbsp;<span>10.1</span></a>)</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figure/selection_function_indirect.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Diagram illustrating the impact of selecting on <span class="math inline">\(Z\)</span> has on <span class="math inline">\(X\)</span> given a positive correlation. The selection function on the top of the plot denotes what values of <span class="math inline">\(Z\)</span> are selected (i.e., <span class="math inline">\(\mathcal{S}(Z)\)</span>). The distributions on the right indicate the distribution of <span class="math inline">\(X\)</span> (in black) and the distribution <span class="math inline">\(X\)</span> after</figcaption>
</figure>
</div>
<p>If there is no correlation between <span class="math inline">\(X\)</span> and <span class="math inline">\(Z\)</span>, then the distribution of <span class="math inline">\(X|\mathcal{Z}\)</span> would be left unchanged (see <a href="#fig-indirect-select-diag-no-corr">Figure&nbsp;<span>10.2</span></a>).</p>
<div id="fig-indirect-select-diag-no-corr" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figure/selection_function_indirect_no_corr.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Figure&nbsp;10.2: Diagram illustrating the direct selection function. The variable, <span class="math inline">\(X\)</span>, in the population is selected based on a function of itself. Therefore the variable under selection is conditional on the selection procedure <span class="math inline">\(X|\mathcal{S}(X)\)</span>.</figcaption>
</figure>
</div>
</section>
<section id="quantifying-selection-induced-restrictionenhancement" class="level2" data-number="10.4">
<h2 data-number="10.4" class="anchored" data-anchor-id="quantifying-selection-induced-restrictionenhancement"><span class="header-section-number">10.4</span> Quantifying Selection-Induced Restriction/enhancement</h2>
<p>The distribution of scores in the target population may exhibit a greater (or lesser) degree of variability compared to the sample that has been selected into the study. Therefore the standard deviation of scores in the target population (<span class="math inline">\(\sigma_{X}\)</span>) may differ from the population under selection. (<span class="math inline">\(\sigma_{X|mathcal{S}(Z)}\)</span>). To index the difference between the two standard deviations, we can calculate the <span class="math inline">\(u\)</span>-ratio <span class="citation" data-cites="hunter1990a">Wiernik and Dahlke (<a href="references_page.html#ref-wiernik2020" role="doc-biblioref">2020</a>)</span>. The <span class="math inline">\(u\)</span>-ratio is the ratio between the standard deviations of the population under selection and the target population such that (<span class="math inline">\(\upsilon\)</span> denotes the population <span class="math inline">\(u\)</span>-ratio),</p>
<p><span class="math display">\[
\upsilon_X = \frac{\sigma_{X|\mathcal{S}(Z)}}{\sigma_{X}}
\]</span></p>
<p>The <span class="math inline">\(u\)</span>-ratio in cases of range <em>restriction</em> will exist in the interval (0–1). Conversely, when the <span class="math inline">\(u\)</span>-ratio is greater than 1 it is indicative of range <em>enhancement</em>. The target population standard deviation is often quite difficult to acquire since we do not usually have access to a random sample from that population. However, the target population standard deviation can be estimated from a reference sample that is representative of the target population. This often comes in the form of standardization samples or norm samples (obtained from test manuals) if the unrestricted group is the general population. For example, the distribution full-scale IQ scores derived from the Wechsler Adult Intelligence Test has a standard deviation of 15 in the US population <span class="citation" data-cites="wechsler2008">(<a href="references_page.html#ref-wechsler2008" role="doc-biblioref">Wechsler 2008</a>)</span>. We can use this estimate as the standard deviation for the unrestricted population. Lets say we select a sample from members of Harvard students, who tend to have higher IQs than the general population (this is due to the fact that selection criterion, such as GPA and SAT scores are positively correlated with IQ). If the standard deviation of IQ in Harvard students is 10, then the <span class="math inline">\(u\)</span>-ratio would be,</p>
<p><span class="math display">\[
u_X =  \frac{S_{X|\mathcal{S}(Z)}}{S_X} = \frac{10}{15}= .67
\]</span></p>
<p>However it is not always the case that an estimate of the unrestricted standard deviation is readily available. Therefore if the reliability coefficient from the reference sample and the sample under selection can be used to estimate the <span class="math inline">\(u\)</span>-ratio,</p>
<p><span class="math display">\[
u_X = \sqrt{\frac{1-r_{XX'}}{1-r_{XX'|\mathcal{S}(Z)}}}
\]</span></p>
<p>Where <span class="math inline">\(r_{XX'|\mathcal{S}(Z)}\)</span> and <span class="math inline">\(r_{XX'}\)</span> are the reliability estimates from the sample under selection and the reference (target population) sample, respectively. In the context of indirect range restriction, the selection does not occur directly on <span class="math inline">\(X\)</span> (or <span class="math inline">\(Y\)</span>), instead it occurs on a third variable, <span class="math inline">\(Z\)</span>. The affect that selection on <span class="math inline">\(Z\)</span> has on <span class="math inline">\(X\)</span> is dependent on the correlation between them, <span class="math inline">\(\rho_{XZ}\)</span>. Therefore we can see how the <span class="math inline">\(u\)</span>-ratio of <span class="math inline">\(Z\)</span> (<span class="math inline">\(u_Z\)</span>) related to the <span class="math inline">\(u\)</span>-ratio of <span class="math inline">\(X\)</span>,</p>
<p><span class="math display">\[
u_X = \sqrt{\rho_{XZ}^2u_Z^2 -\rho_{XZ}^2 + 1 }
\]</span></p>
<p>If <span class="math inline">\(\rho_{XZ}=0\)</span>, then you will notice that <span class="math inline">\(u_X=1\)</span>, effectively having no selection effect on <span class="math inline">\(X\)</span>. Also, notice that a correlation of <span class="math inline">\(\rho_{XZ}=1\)</span> will return <span class="math inline">\(u_X=u_Z\)</span>, indicating that selecting on <span class="math inline">\(Z\)</span> would affect the variation of <span class="math inline">\(Z\)</span> similarly to the variation in <span class="math inline">\(X\)</span>. This relationship between <span class="math inline">\(u_X\)</span>, <span class="math inline">\(u_Z\)</span>, and <span class="math inline">\(\rho_{XZ}\)</span> can be visualized in <a href="#fig-ux-uz">Figure&nbsp;<span>10.3</span></a></p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-ux-uz" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="indirect_range_restriction_files/figure-html/fig-ux-uz-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;10.3: The impact of the association between <span class="math inline">\(X\)</span> and <span class="math inline">\(Z\)</span>. The data consists of <span class="math inline">\(N=1,000\)</span> simulated observations, where the red plots show a low correlation case (<span class="math inline">\(\rho_{XZ}=.20\)</span>) and the blue plots show a high correlation case (<span class="math inline">\(\rho_{XZ}=.80\)</span>). The top plots show the relationship between <span class="math inline">\(X\)</span> and <span class="math inline">\(Z\)</span> with the darker points indicating individuals that have been selected into the sample. The bottom plots shows the probability of selection into the sample as a function of X. The dark distribution on the top of the plot show the distribution of individuals in the selected sample. Notice that the distribution of the selected individual’s in the high correlation case is a narrower distribution than the low correlation case.</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="correcting-correlations-for-indirect-range-restriction" class="level2" data-number="10.5">
<h2 data-number="10.5" class="anchored" data-anchor-id="correcting-correlations-for-indirect-range-restriction"><span class="header-section-number">10.5</span> Correcting Correlations for Indirect Range Restriction</h2>
<section id="defining-our-target-quantity" class="level3" data-number="10.5.1">
<h3 data-number="10.5.1" class="anchored" data-anchor-id="defining-our-target-quantity"><span class="header-section-number">10.5.1</span> Defining our Target Quantity</h3>
<p>We want to estimate the population correlation of the true scores of the independent variable (<span class="math inline">\(T\)</span>) and dependent variable (<span class="math inline">\(U\)</span>). We can denote this correlation as <span class="math inline">\(\rho_{TU}\)</span>. Within a study sample that suffers from indirect selection (and sampling error), the study correlation is under selection (<span class="math inline">\(r_{xy_S}\)</span>) will be biased relative to our target quantity, <span class="math inline">\(\rho_{xy}\)</span>. This bias is captured by an artifact attenuation/inflation factor, <span class="math inline">\(a\)</span>, such that,</p>
<p><span class="math display">\[
r_{XY} = a \rho_{XY|\mathcal{S}(Z)} + e
\]</span></p>
<p>Therefore an unbiased estimate of the true score target population correlation can be estimated by dividing the observed score correlation under selection by an estimate of <span class="math inline">\(a\)</span>,</p>
<p><span class="math display">\[
r_{TU} = \frac{ r_{XY|\mathcal{S}(Z)} }{ \hat{a}}.
\]</span></p>
</section>
<section id="artifact-correction-for-correlations" class="level3" data-number="10.5.2">
<h3 data-number="10.5.2" class="anchored" data-anchor-id="artifact-correction-for-correlations"><span class="header-section-number">10.5.2</span> Artifact Correction for Correlations</h3>
<section id="the-univariate-case" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="the-univariate-case">The Univariate Case</h4>
<p>Range restriction (or enhancement) in either the independent or dependent variable will induce bias into the correlation coefficient. Let us consider a case where we select individuals based on meeting some criterion of some third variable, <span class="math inline">\(Z\)</span>, such that <span class="math inline">\(\mathcal{S}(Z)\)</span>. In the univariate case, we assume that selection on <span class="math inline">\(Z\)</span> only directly affects restriction/enhancement in <span class="math inline">\(X\)</span> while any restriction/enhancement in <span class="math inline">\(Y\)</span> is mediated by the effect on <span class="math inline">\(X\)</span> (see <a href="#fig-corr-model-uni">Figure&nbsp;<span>10.4</span></a>).</p>
<p>Now consider a study where we want to calculate correlation in the target population between an independent variable, <span class="math inline">\(X\)</span>, and a dependent variable, <span class="math inline">\(Y\)</span>. However, the individual’s are selected whether they are above the mean of <span class="math inline">\(Z\)</span> (Mean = 0). We can thus define the selection function such that,</p>
<p><span class="math display">\[
\mathcal{S}(Z) = \begin{cases} 1 &amp; \text{if } Z \geq 0 \\ 0 &amp; \text{if } Z &lt; 0 \end{cases}
\]</span></p>
<p>In the following examples, we will simulate a correlation of <span class="math inline">\(\rho_{XZ}=.80\)</span>.</p>
<div id="fig-corr-model-uni" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figure/indirect_select_corr_model_uni.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Figure&nbsp;10.4: The assumed correlation structure of univariate indirect selection. The correlation between <span class="math inline">\(Z\)</span> and <span class="math inline">\(Y\)</span> is completely mediated by <span class="math inline">\(X\)</span> (i.e., the partial correlation between <span class="math inline">\(Y\)</span> and <span class="math inline">\(Z\)</span>, controlling for <span class="math inline">\(X\)</span> is zero such that, <span class="math inline">\(\rho_{YZ.X}=0\)</span>).</figcaption>
</figure>
</div>
<p><a href="#fig-uvirr">Figure&nbsp;<span>10.5</span></a> shows a <span class="math inline">\(u\)</span>-ratio of about <span class="math inline">\(u_X=0.75\)</span> in the independent variable. We see that the sample correlation in the restricted scores (<span class="math inline">\(r_{XY|\mathcal{S}(Z)}=.42\)</span>) is attenuated relative to the unrestricted correlation (<span class="math inline">\(r_{XY}=.50\)</span>).</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-uvirr" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="indirect_range_restriction_files/figure-html/fig-uvirr-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;10.5: Scatterplot showing a correlation between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> under univariate indirect range restriction. Dark red dots indicate the selected sample and the transparent dots indicate the rejected sample.</figcaption>
</figure>
</div>
</div>
</div>
<p>We can also visualize what happens to the correlation when the range is enhanced. Enhancement can be accomplished by selecting individuals at the ends of the distribution <span class="citation" data-cites="taylor1976">(<a href="references_page.html#ref-taylor1976" role="doc-biblioref">Taylor and Griess 1976</a>)</span>. For indirect selection, individuals are selected at the ends of the distribution of <span class="math inline">\(Z\)</span> such that the selection function can be defined as,</p>
<p><span class="math display">\[
\mathcal{S}(Z) = \begin{cases} 1 &amp; \text{if } Z \leq -1 \text{ or } Z \geq 1 \\ 0 &amp; \text{if } Z &lt; -1 \text{ or } Z &gt;1 \end{cases}
\]</span></p>
<p>In <a href="#fig-uvire">Figure&nbsp;<span>10.6</span></a>, we see an opposite effect on the correlation, that is, an inflation of the correlation rather than an attenuation like we see under range restriction. The scenario below has a <span class="math inline">\(u\)</span>-ratio of about <span class="math inline">\(u_X=1.32\)</span> in the independent variable.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-uvire" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="indirect_range_restriction_files/figure-html/fig-uvire-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;10.6: Scatterplot showing a correlation between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> under univariate indirect range enhancement. Dark red dots indicate the selected sample and the transparent dots indicate the rejected sample.</figcaption>
</figure>
</div>
</div>
</div>
<p>In summary, if <span class="math inline">\(u_X&gt;1\)</span> (i.e., <span class="math inline">\(S_{X|\mathcal{S}(Z)}&gt;S_{X}\)</span>) the observed correlation is inflated relative to the correlation in the target population. Whereas the correlation is attenuated when <span class="math inline">\(u_X&lt;1\)</span> <span class="citation" data-cites="sackett2000">(i.e., <span class="math inline">\(S_{X|\mathcal{S}(Z)}&lt;S_{X}\)</span>, <a href="references_page.html#ref-sackett2000" role="doc-biblioref">Sackett and Yang 2000</a>)</span>. An estimate of the attenuation/inflation factor, <span class="math inline">\(\hat{a}\)</span>, can account for the bias in the observed correlation induced by range restriction/enhancement <span class="citation" data-cites="le2006">(equation 5, <a href="references_page.html#ref-le2006" role="doc-biblioref">Le and Schmidt 2006</a>)</span>.</p>
<p><span class="math display">\[
\hat{a} = \sqrt{r_{XY|\mathcal{S}(Z)}^2 + u_{X}^2 (1- r_{XY|\mathcal{S}(Z)}^2)  }
\]</span> Using the estimated attenuation/inflation factor, we can correct the observed correlation for bias induced by indirect selection</p>
<p><span id="eq-univariate"><span class="math display">\[
r_{XY} = \frac{r_{XY|\mathcal{S}(Z)}}{\hat{a}} = \frac{r_{XY|\mathcal{S}(Z)}}{\sqrt{r_{XY|\mathcal{S}(Z)}^2 + u_{X}^2 (1- r_{XY|\mathcal{S}(Z)}^2)  }}
\tag{10.1}\]</span></span></p>
<p>If we wants to correct for range restriction/enhancement <em>and</em> measurement error, we can incorporate the reliability coefficients (under selection) of <span class="math inline">\(X\)</span> (<span class="math inline">\(r_{XX'|\mathcal{S}(Z)}\)</span>) and <span class="math inline">\(Y\)</span> (<span class="math inline">\(r_{YY'|\mathcal{S}(Z)}\)</span>) into the formula for <span class="math inline">\(\hat{a}\)</span>,</p>
<p><span class="math display">\[
\hat{a} = \sqrt{r_{XY|\mathcal{S}(Z)}^2 + \frac{u_{X}^2 r_{XX'|\mathcal{S}(Z)}\left(r_{XX'|\mathcal{S}(Z)}r_{YY'|\mathcal{S}(Z)} - r_{XY|\mathcal{S}(Z)}^2\right) }{1 - u_{X}^2 \left(1-r_{XX'|\mathcal{S}(Z)}\right)} }
\]</span></p>
<p>Now correcting the observed correlation with this modified estimate of <span class="math inline">\(a\)</span> to correct the observed correlation will yield the true score correlation in the target population,</p>
<p><span class="math display">\[
r_{TU}=\frac{r_{XY|\mathcal{S}(Z)}}{\hat{a}} = \frac{r_{XY|\mathcal{S}(Z)}}{\sqrt{r_{XY|\mathcal{S}(Z)}^2 + \frac{u_{X}^2 r_{XX'|\mathcal{S}(Z)}\left(r_{XX'|\mathcal{S}(Z)}r_{YY'|\mathcal{S}(Z)} - r_{XY|\mathcal{S}(Z)}^2\right) }{1 - u_{X}^2 \left(1-r_{XX'|\mathcal{S}(Z)}\right)} }}
\]</span></p>
<p>If the reliability coefficients come from the target population and do not suffer selection effects, we can estimate the reliability under selection using the following formulas <span class="citation" data-cites="le2006">(equation 11 and 12 <a href="references_page.html#ref-le2006" role="doc-biblioref">Le and Schmidt 2006</a>)</span>:</p>
<p><span id="eq-rel-x"><span class="math display">\[
r_{XX'|\mathcal{S}(Z)} = 1-\frac{1-r_{XX'}}{u_X^2}
\tag{10.2}\]</span></span></p>
<p><span id="eq-rel-y"><span class="math display">\[
r_{YY'|\mathcal{S}(Z)} = 1-\frac{1-r_{YY'}}{u_Y^2}
\tag{10.3}\]</span></span></p>
<p>We now need to adjust the standard error for the corrected correlation coefficient. To do this, we can either divide the observed standard error by the attenuation/inflation factor (or equivalently, the observed correlation divided by the corrected correlation),</p>
<p><span class="math display">\[
se(r_{TU}) = \frac{se\left(r_{XY|\mathcal{S}(Z)}\right)}{\hat{a}}= \frac{se\left(r_{XY|\mathcal{S}(Z)}\right)}{\left[\frac{r_{XY|\mathcal{S}(Z)}}{r_{TU}}\right]}.
\]</span></p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Applied Example in R
</div>
</div>
<div class="callout-body-container callout-body">
<p>Let’s say a university admits students based on some criterion upon a composite of multiple measures of performance (<span class="math inline">\(Z\)</span>). One of those measures is a standardized test (<span class="math inline">\(X\)</span>). A researcher then wants to see how test performance predicts stress (<span class="math inline">\(Y\)</span>) in college. Since test performance is correlated with the composite used in the college admissions process, it is likely that we will observe substantial range restriction in the college sample. To index this restriction in range, we calculate the <span class="math inline">\(u\)</span>-ratio of test scores as <span class="math inline">\(u_{X}=0.70\)</span> (relative to the total pool of applicants). We also want to correct for measurement error in test performance and the self-report questionnaire we use to measure stress, therefore we obtain reliability estimates within our sample of <span class="math inline">\(r_{XX'|\mathcal{S}(Z)}=.90\)</span> and <span class="math inline">\(r_{XX'|\mathcal{S}(Z)}=.80\)</span>, respectively. The researcher then conducts the study and finds a sample correlation of <span class="math inline">\(r_{XY|\mathcal{S}(Z)}=.25\)</span>, but he wants to know that true score correlation.</p>
<p>In R, we can correct the correlation by using the <code>correct_r</code> function in the <code>psychmeta</code> package <span class="citation" data-cites="dahlke2019">(<a href="references_page.html#ref-dahlke2019" role="doc-biblioref">Dahlke and Wiernik 2019</a>)</span>. The <code>correction = 'uvirr_x'</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(psychmeta)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">correct_r</span>(<span class="at">correction =</span> <span class="st">'uvirr_x'</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">rxyi =</span> .<span class="dv">25</span>,  <span class="co"># restricted correlation</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">rxx =</span> .<span class="dv">90</span>,  <span class="co"># reliability of test scores</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">ryy =</span> .<span class="dv">80</span>,  <span class="co"># reliability of stress</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">ux =</span> .<span class="dv">70</span>,   <span class="co"># u ratio of SAT scores</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">n =</span> <span class="dv">100</span>)    <span class="co"># sample size</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Correlations Corrected for Measurement Error and Univariate Indirect Range Restriction:
---------------------------------------------------------------------------------------
  value CI_LL_95 CI_UL_95   n n_effective
1 0.412   0.0973    0.648 100        33.8</code></pre>
</div>
</div>
<p>The true score correlation in the target population is estimated to be <span class="math inline">\(r_{TU} = .41\, [.10,\, .65]\)</span>.</p>
</div>
</div>
</section>
<section id="the-bivariate-case" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="the-bivariate-case">The Bivariate Case</h4>
<p>Bivariate indirect range restriction/enhancement occurs when the selection variable has independent relationships with both the independent and dependent variable. Like we did for the univariate case, let’s visualize the correlation between independent (<span class="math inline">\(X\)</span>) and dependent (<span class="math inline">\(Y\)</span>) variables under range restriction by only selecting individuals above a score of -0.50 in our selector variable, <span class="math inline">\(Z\)</span>. Therefore the selection function can be defined as,</p>
<p><span class="math display">\[
\mathcal{S}(Z)=\begin{cases} 1 &amp;\text{ if } Z \geq-.50 \\  0 &amp;\text{ if } Z &lt;-.50  \end{cases}
\]</span></p>
<p>We will also fix the correlations between the selector and independent variable (<span class="math inline">\(\rho_{XZ}\)</span>), as well as the selector and dependent variable (<span class="math inline">\(\rho_{YZ}\)</span>) to be .80. Unlike the univariate case, in the bivariate case <span class="math inline">\(X\)</span> <em>and</em> <span class="math inline">\(Y\)</span> have direct relationships with <span class="math inline">\(Z\)</span> (see <a href="#fig-corr-model-biv">Figure&nbsp;<span>10.7</span></a>).</p>
<div id="fig-corr-model-biv" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figure/indirect_select_corr_model_biv.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Figure&nbsp;10.7: The assumed correlation structure of univariate indirect selection. The correlation between <span class="math inline">\(Z\)</span> and <span class="math inline">\(Y\)</span> is completely mediated by <span class="math inline">\(X\)</span> (i.e., the partial correlation between <span class="math inline">\(Y\)</span> and <span class="math inline">\(Z\)</span>, controlling for <span class="math inline">\(X\)</span> is zero such that, <span class="math inline">\(\rho_{YZ.X}=0\)</span>).</figcaption>
</figure>
</div>
<p>The scenario displayed in <a href="#fig-bvirr">Figure&nbsp;<span>10.8</span></a>, shows a <span class="math inline">\(u\)</span>-ratio of about <span class="math inline">\(u_X=u_Y=0.81\)</span> in the independent variable and dependent variables. We see in the figure below that the correlation in the restricted sample (<span class="math inline">\(\rho_{XY|\mathcal{S}(Z)}=.25\)</span>) is attenuated relative to the target population correlation (<span class="math inline">\(\rho_{XY}=.50\)</span>).</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-bvirr" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="indirect_range_restriction_files/figure-html/fig-bvirr-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;10.8: Scatterplot showing a correlation between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> under bivariate indirect range restriction. Dark red dots indicate the selected sample and the transparent dots indicate the rejected sample.</figcaption>
</figure>
</div>
</div>
</div>
<p>Likewise let’s visualize what happens to the correlation when the range is enhanced. Enhancement in both variables can be accomplished by selecting individuals at the ends of the distribution of <span class="math inline">\(Z\)</span> (for this case we will select individuals below a score of -1 and above a score of 1). We can thus define the selection function as,</p>
<p><span class="math display">\[
\mathcal{S}(Z)=\begin{cases} 1 &amp;\text{ if } Z \leq-1 \text{ or } Z \geq 1  \\  0 &amp;\text{ if } Z &gt; -1  \text{ or } Z &lt; 1   \end{cases}
\]</span></p>
<p>In <a href="#fig-bvire">Figure&nbsp;<span>10.9</span></a>, we observe an inflation of observed correlation (<span class="math inline">\(\rho_{XY|\mathcal{S}(Z)}=.74\)</span>) relative to the target correlation (<span class="math inline">\(\rho_{XY}=.50\)</span>). <a href="#fig-bvire">Figure&nbsp;<span>10.9</span></a> has a <span class="math inline">\(u\)</span>-ratio of about <span class="math inline">\(u_X=u_Y=1.38\)</span> in both the independent variable and dependent variable.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-bvire" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="indirect_range_restriction_files/figure-html/fig-bvire-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;10.9: Scatterplot showing a correlation between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> under bivariate indirect range enhancement. Dark red dots indicate the selected sample and the transparent dots indicate the rejected sample.</figcaption>
</figure>
</div>
</div>
</div>
<p>A bias correction formula for bivariate range restriction is much more complicated than the univariate formulation. In the univariate case, we did not need any more information about the selection process beyond what we could infer from <span class="math inline">\(u_X\)</span>. However in the bivariate case, we need to have a basic idea of the selection mechanism at play <span class="citation" data-cites="dahlke2020">(<a href="references_page.html#ref-dahlke2020" role="doc-biblioref">Dahlke and Wiernik 2020</a>)</span>. Particularly we at least know the direction of the correlation between the selector variable, <span class="math inline">\(Z\)</span>, and the independent (<span class="math inline">\(\rho_{XZ}\)</span>) and dependent variable (<span class="math inline">\(\rho_{YZ}\)</span>). This will require a little bit of knowledge about the selection process within a given study. Let us first define a factor we will denote with <span class="math inline">\(\lambda\)</span> <span class="citation" data-cites="dahlke2020">(<a href="references_page.html#ref-dahlke2020" role="doc-biblioref">Dahlke and Wiernik 2020</a>)</span>. This factor takes into account the direction of the correlation of <span class="math inline">\(\rho_{XZ}\)</span> (if positive, we can set <span class="math inline">\(\rho_{XZ}=1\)</span>, if negative, <span class="math inline">\(\rho_{XZ}=-1\)</span>, if zero, <span class="math inline">\(\rho_{XZ}=0\)</span>) and <span class="math inline">\(\rho_{YZ}\)</span> (repeat the same procedure as <span class="math inline">\(\rho_{XZ}\)</span>). Therefore <span class="math inline">\(\lambda\)</span> can be defined as,</p>
<p><span class="math display">\[\begin{aligned}
\lambda =&amp; \text{ sign}\left(\rho_{XZ}\rho_{YZ} [1-u_X][1-u_Y]\right)\times \\[.3em] &amp;\frac{\text{sign}
\left(1-u_X\right)\min\left(u_X,\frac{1}{u_X}\right) +
\text{ sign}\left(1-u_Y\right)\min\left(u_Y,\frac{1}{u_Y}\right)
}{\min\left(u_X,\frac{1}{u_X}\right)+\min\left(u_Y,\frac{1}{u_Y}\right)}.
\end{aligned}\]</span></p>
<p>Although complex, the output of <span class="math inline">\(\lambda\)</span> will be either -1, 0, or 1. We can then plug this factor into the full correction equation that provides us with an unbiased estimate of the correlation in the unrestricted population,</p>
<p><span class="math display">\[
r_{XY} = r_{XY|\mathcal{S}(Z)}u_Xu_Y+\lambda\sqrt{|1-u_X^2||1-u_Y^2|}
\]</span></p>
<p>Similar to the univariate formula, we can also incorporate measurement error into the correction. Measurement error will bias the correlation on top of the bias induced by range restriction/enhancement. Therefore we can incorporate the reliabilities estimated within the restricted sample (<span class="math inline">\(r_{XX'|\mathcal{S}(Z)}\)</span> and <span class="math inline">\(r_{YY'|\mathcal{S}(Z)}\)</span>), into our correction formula:</p>
<p><span class="math display">\[
r_{TU} = \frac{r_{XY|\mathcal{S}(Z)}u_Xu_Y+\lambda\sqrt{|1-u_X^2||1-u_Y^2|}}{\sqrt{1-u_X^2\left(1-r_{XX'|\mathcal{S}(Z)}\right)}\sqrt{1-u_Y^2\left(1-r_{YY'|\mathcal{S}(Z)}\right)}}
\]</span></p>
<p>If the reliability estimates come from an target population reference sample, we can get estimates of the reliability coefficients in the selected sample using <a href="#eq-rel-x">Equation&nbsp;<span>10.2</span></a> and <a href="#eq-rel-y">Equation&nbsp;<span>10.3</span></a>. We then can correct the observed sampling variance (<span class="math inline">\(\sigma^2_{\varepsilon_o}\)</span>),</p>
<p><span class="math display">\[
se(r_{TU}) = \frac{se\left(r_{XY|\mathcal{S}(Z)}\right)}{\hat{a}}= \frac{se\left(r_{XY|\mathcal{S}(Z)}\right)}{\left[\frac{r_{XY|\mathcal{S}(Z)}}{r_{TU}}\right]}.
\]</span></p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Applied Example in R
</div>
</div>
<div class="callout-body-container callout-body">
<p>Continuing with the example from the univariate case, a university admits applicants based on some criterion upon a composite of multiple measures of performance (<span class="math inline">\(Z\)</span>). Two of those measures is a standardized test (<span class="math inline">\(X\)</span>) and high school grade-point average (GPA). A researcher then wants to see how test performance predicts college GPA (<span class="math inline">\(Y\)</span>). Since <em>both</em> test performance is correlated with the composite used in the college admissions process, it is likely that we will observe substantial range restriction in the college sample. The <span class="math inline">\(u\)</span>-ratio in test performance and GPA was <span class="math inline">\(u_{X}=u_{Y}=0.80\)</span> (applicants are the target population). We also want to correct for measurement error in the dependent variable (grade-point average) only we use to measure stress, therefore we obtain a reliability estimate within our sample of <span class="math inline">\(r_{YY'|\mathcal{S}(Z)}=.90\)</span>. The researcher then conducts the study and finds a sample correlation of <span class="math inline">\(r_{XY|\mathcal{S}(Z)}=.25\)</span>.</p>
<p>In R, we can correct the correlation by using the <code>correct_r</code> function in the <code>psychmeta</code> package <span class="citation" data-cites="dahlke2019">(<a href="references_page.html#ref-dahlke2019" role="doc-biblioref">Dahlke and Wiernik 2019</a>)</span>. The <code>correction = 'uvirr_x'</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(psychmeta)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">correct_r</span>(<span class="at">correction =</span> <span class="st">'uvirr_x'</span>,</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">rxyi =</span> .<span class="dv">25</span>,  <span class="co"># restricted correlation</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">ryy =</span> .<span class="dv">90</span>,  <span class="co"># reliability of GPA</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">ux =</span> .<span class="dv">80</span>,   <span class="co"># u ratio of SAT scores</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">n =</span> <span class="dv">100</span>)    <span class="co"># sample size</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Correlations Corrected for Measurement Error and Univariate Indirect Range Restriction:
---------------------------------------------------------------------------------------
  value CI_LL_95 CI_UL_95   n n_effective
1 0.323   0.0742    0.531 100        58.9</code></pre>
</div>
</div>
<p>The true score correlation in the target population is estimated to be <span class="math inline">\(r_{TU} = .32\, [.07,\, .53]\)</span>.</p>
</div>
</div>
</section>
</section>
</section>
<section id="beware-of-assumptions" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="beware-of-assumptions">Beware of assumptions</h2>
<p>Note that these corrections require the following assumptions: 1) linearity between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>, 2) homoskedasticity, that is, equal variance in <span class="math inline">\(Y\)</span> at every level of <span class="math inline">\(X\)</span>.</p>
<script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="matthewbjane" data-description="Support me on Buy me a coffee!" data-message="Thank you for being here! Consider buying me a coffee!" data-color="#eeb4d7ff" data-position="Right" data-x_margin="18" data-y_margin="18"></script>


<div id="refs" class="references csl-bib-body hanging-indent" role="list" style="display: none">
<div id="ref-dahlke2019" class="csl-entry" role="listitem">
Dahlke, Jeffrey A., and Brenton M. Wiernik. 2019. <span>“Psychmeta: An R Package for Psychometric Meta-Analysis.”</span> <em>Applied Psychological Measurement</em> 43 (5): 415–16. <a href="https://doi.org/10.1177/0146621618795933">https://doi.org/10.1177/0146621618795933</a>.
</div>
<div id="ref-dahlke2020" class="csl-entry" role="listitem">
———. 2020. <span>“Not Restricted to Selection Research: Accounting for Indirect Range Restriction in Organizational Research.”</span> <em>Organizational Research Methods</em> 23 (4): 717–49. <a href="https://doi.org/10.1177/1094428119859398">https://doi.org/10.1177/1094428119859398</a>.
</div>
<div id="ref-hunter1990a" class="csl-entry" role="listitem">
Hunter, John E., and Frank L. Schmidt. 2015. <em>Methods of meta-analysis: correcting error and bias in research findings (third)</em>. Third. Thousand Oaks, California: Sage Publications.
</div>
<div id="ref-le2006" class="csl-entry" role="listitem">
Le, Huy, and Frank L. Schmidt. 2006. <span>“Correcting for Indirect Range Restriction in Meta-Analysis: Testing a New Meta-Analytic Procedure.”</span> <em>Psychological Methods</em> 11 (4): 416–38. <a href="https://doi.org/10.1037/1082-989X.11.4.416">https://doi.org/10.1037/1082-989X.11.4.416</a>.
</div>
<div id="ref-sackett2000" class="csl-entry" role="listitem">
Sackett, Paul R., and Hyuckseung Yang. 2000. <span>“Correction for Range Restriction: An Expanded Typology.”</span> <em>Journal of Applied Psychology</em> 85 (1): 112–18. <a href="https://doi.org/10.1037/0021-9010.85.1.112">https://doi.org/10.1037/0021-9010.85.1.112</a>.
</div>
<div id="ref-taylor1976" class="csl-entry" role="listitem">
Taylor, Erwin K., and Thomas Griess. 1976. <span>“The Missing Middle in Validation Research.”</span> <em>Personnel Psychology</em> 29 (1): 5–11. <a href="https://doi.org/10.1111/j.1744-6570.1976.tb00397.x">https://doi.org/10.1111/j.1744-6570.1976.tb00397.x</a>.
</div>
<div id="ref-wechsler2008" class="csl-entry" role="listitem">
Wechsler, David. 2008. <em>Wechsler Adult Intelligence Scale–Fourth Edition</em>. 4th ed. <a href="https://doi.org/10.1037/t15169-000">https://doi.org/10.1037/t15169-000</a>.
</div>
<div id="ref-wiernik2020" class="csl-entry" role="listitem">
Wiernik, Brenton M., and Jeffrey A. Dahlke. 2020. <span>“Obtaining Unbiased Results in Meta-Analysis: The Importance of Correcting for Statistical Artifacts.”</span> <em>Advances in Methods and Practices in Psychological Science</em> 3 (1): 94–123. <a href="https://doi.org/10.1177/2515245919885611">https://doi.org/10.1177/2515245919885611</a>.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./direct_range_restriction.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Direct Selection</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./metaanalysis_intro.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Introduction to Meta-Analysis Methods</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>